let detailsModal={showModal:function e(t){let n=document.querySelector(".modal-title"),o=document.querySelector(".tags__modal-type"),a=document.querySelector(".modal-body"),i=document.querySelector(".modal-footer");a.innerHTML="",i.innerHTML="",o.innerHTML="";document.querySelector(".modal-id-number").innerText=`#${t.id}`,n.innerText=t.name;let r=document.querySelector(".tags__modal-type");t.types.forEach(e=>{let t=document.createElement("p");t.classList.add("modal-tag",e),t.innerText=e,r.appendChild(t)}),a.className="modal-body",a.classList.add(`gradient--${t.mainType}`);let l=document.createElement("img");l.src=t.imageUrl;let d=document.createElement("p");d.innerText=`Height: ${10*t.height} cm`;let s=document.createElement("p");s.innerText=`Weight: ${t.weight/10} kg`,a.appendChild(l),i.appendChild(d),i.appendChild(s)}},pokemonRepository=function(){let e=[],t=["name","detailsUrl"];function n(e){return e.charAt(0).toUpperCase()+e.slice(1)}function o(){return e}document.getElementById("searchBar").addEventListener("keyup",function(t){let n=t.target.value.toLowerCase(),o=e.filter(function(e){if(!e.name.toLowerCase().includes(n))return e}),a=e.filter(function(e){if(e.name.toLowerCase().includes(n))return e});o.map(e=>{document.getElementById(e.name).classList.add("d-none")}),a.map(e=>{document.getElementById(e.name).classList.remove("d-none")})});let a=document.querySelector(".search-button");return $(document).ready(function(){$(a).click(function(){$(".search-bar").toggleClass("d-none")})}),{addListItem:function e(t){let n=document.querySelector(".pokemon-list"),o=document.createElement("div");o.classList.add("pokemon-list__pokemon-card","btn","shadow","col-12","col-md-4","col-lg-3",`id-${t.id}`,`gradient--${t.mainType}`),o.setAttribute("id",t.name),o.setAttribute("data-toggle","modal"),o.setAttribute("data-target","#pokemodal");let a=document.createElement("div");a.classList.add("pokemon-list__pokemon-card--text");let i=document.createElement("p");i.innerText=`${t.name}`;let r=document.createElement("p");r.innerText=`#${t.id}`;let l=document.createElement("img");l.setAttribute("src",t.imageUrl),function e(t,n){t.addEventListener("click",function(){var e;e=n,detailsModal.showModal(e)})}(o,t),a.appendChild(i),a.appendChild(r),o.appendChild(a),o.appendChild(l),n.appendChild(o)},loadList:function o(){return fetch("https://pokeapi.co/api/v2/pokemon/?limit=150").then(e=>e.json()).then(o=>{o.results.forEach(({name:o,url:a})=>{!function n(o){var a,i;if("object"==typeof o&&(a=o,(i=t).some(function(e){return e in a})))return e.push(o);console.log(`The pok\xe9mon must be stored as an object with the keys: ${t}.`)}({name:n(o),detailsUrl:a})})}).catch(function(e){console.error(e)})},getAll:o,loadDetails:function e(t){return fetch(t.detailsUrl).then(e=>e.json()).then(function(e){var o;t.name=n(e.name),t.imageUrl=e.sprites.front_default,t.height=e.height,t.weight=e.weight;let a;t.types=(o=e.types,a=[],o.forEach(function(e){a.push(e.type.name)}),a),t.id=e.id,t.mainType=t.types[0]}).catch(function(e){console.error(e)})},showLoadingMessage:function e(){let t=document.querySelector("main"),n=document.createElement("p");n.innerText="Loading the Pok\xe9dex",n.classList.add("loading-message"),t.appendChild(n)},hideLoadingMessage:function e(){let t=document.querySelector(".loading-message");t.parentElement.removeChild(t)}}}();pokemonRepository.showLoadingMessage(),pokemonRepository.loadList().then(function(){pokemonRepository.hideLoadingMessage(),pokemonRepository.getAll().forEach(function(e){pokemonRepository.loadDetails(e).then(function(){pokemonRepository.addListItem(e)})})});