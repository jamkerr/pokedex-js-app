let detailsModal={showModal:function e(t){let n=document.querySelector('.modal-title'),a=document.querySelector('.tags__modal-type'),o=document.querySelector('.modal-body'),i=document.querySelector('.modal-footer');o.innerHTML='',i.innerHTML='',a.innerHTML='';document.querySelector('.modal-id-number').innerText=`#${t.id}`,n.innerText=t.name;let r=document.querySelector('.tags__modal-type');t.types.forEach(e=>{let t=document.createElement('p');t.classList.add('modal-tag',e),t.innerText=e,r.appendChild(t)}),o.className='modal-body',o.classList.add(`gradient--${t.mainType}`);let l=document.createElement('img');l.src=t.imageUrl;let d=document.createElement('p');d.innerText=`Height: ${10*t.height} cm`;let s=document.createElement('p');s.innerText=`Weight: ${t.weight/10} kg`,o.appendChild(l),i.appendChild(d),i.appendChild(s)}},pokemonRepository=function(){let e=[],t=['name','detailsUrl'];function n(e){return e.charAt(0).toUpperCase()+e.slice(1)}function a(){return e}document.getElementById('searchBar').addEventListener('keyup',function(t){let n=t.target.value.toLowerCase(),a=e.filter(function(e){if(!e.name.toLowerCase().includes(n))return e}),o=e.filter(function(e){if(e.name.toLowerCase().includes(n))return e});a.map(e=>{document.getElementById(e.name).classList.add('d-none')}),o.map(e=>{document.getElementById(e.name).classList.remove('d-none')})});let o=document.querySelector('.search-button');return $(document).ready(function(){$(o).click(function(){let e=$('#searchBar');e.toggleClass('d-none'),e.focus()})}),{addCard:function e(t){var n;let a=document.querySelector('.pokemon-list'),o=document.createElement('div');o.classList.add('pokemon-list__pokemon-card','btn','shadow','col-12','col-md-4','col-lg-3','loading-placeholder'),o.setAttribute('id',t.name),a.appendChild(o);let i,r;n=t.name,i=document.getElementById(n),(r=document.createElement('div')).innerText=`Loading details for ${n}`,r.classList.add('loading-message'),i.appendChild(r)},createBasicList:function a(){return fetch('https://pokeapi.co/api/v2/pokemon/?limit=150').then(e=>e.json()).then(a=>{a.results.forEach(({name:a,url:o})=>{!function n(a){var o,i;if('object'==typeof a&&(o=a,(i=t).some(function(e){return e in o})))return e.push(a);console.log(`The pok\xe9mon must be stored as an object with the keys: ${t}.`)}({name:n(a),detailsUrl:o})})}).catch(function(e){console.error(e)})},getList:a,fillCard:function e(t){let n=document.getElementById(t.name);n.classList.add(`gradient--${t.mainType}`),n.setAttribute('data-toggle','modal'),n.setAttribute('data-target','#pokemodal');let a=document.createElement('div');a.classList.add('pokemon-list__pokemon-card--text');let o=document.createElement('p');o.innerText=`${t.name}`;let i=document.createElement('p');i.innerText=`#${t.id}`;let r=document.createElement('img');r.setAttribute('src',t.imageUrl),function e(t,n){t.addEventListener('click',function(){var e;e=n,detailsModal.showModal(e)})}(n,t),a.appendChild(o),a.appendChild(i),n.innerHTML='',n.classList.remove('loading-placeholder'),n.appendChild(a),n.appendChild(r)},loadDetails:function e(t){return fetch(t.detailsUrl).then(e=>e.json()).then(function(e){var a;t.name=n(e.name),t.imageUrl=e.sprites.front_default,t.height=e.height,t.weight=e.weight;let o;return t.types=(a=e.types,o=[],a.forEach(function(e){o.push(e.type.name)}),o),t.id=e.id,t.mainType=t.types[0],t}).catch(function(e){console.error(e)})}}}();pokemonRepository.createBasicList().then(function(){pokemonRepository.getList().forEach(function(e){pokemonRepository.addCard(e)})}).then(function(){pokemonRepository.getList().forEach(function(e){pokemonRepository.loadDetails(e).then(function(e){pokemonRepository.fillCard(e)})})});